<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historia de los Libros</title>
    <link rel="manifest" href="./manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --header-bg: #4CAF50;
            --header-text: #ffffff;
            --card-bg: #ffffff;
            --card-shadow: 0 2px 4px rgba(0,0,0,0.1);
            --border-color: #ddd;
            --accent-color: #4CAF50;
            --hover-color: #f7f7f7;
            --input-text: #333333;
            --input-bg: #ffffff;
            --result-text: #333333;
            --result-bg: #ffffff;
            --highlight-bg: rgba(76, 175, 80, 0.2);
            --highlight-text: #333333;
            --filter-active: #4CAF50;
            --filter-inactive: #808080;
            --filter-bg: rgba(76, 175, 80, 0.1);
        }

        [data-theme="dark"] {
            --bg-color: #1a1a1a;
            --text-color: #ffffff;
            --header-bg: #2d5a2f;
            --card-bg: #2d2d2d;
            --card-shadow: 0 2px 4px rgba(0,0,0,0.2);
            --border-color: #333;
            --accent-color: #2d5a2f;
            --hover-color: #333;
            --input-text: #ffffff;
            --input-bg: #2d2d2d;
            --result-text: #ffffff;
            --result-bg: #2d2d2d;
            --highlight-bg: rgba(76, 175, 80, 0.3);
            --highlight-text: #ffffff;
            --filter-active: #4CAF50;
            --filter-inactive: #666666;
            --filter-bg: rgba(76, 175, 80, 0.2);
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            color: var(--header-text);
            padding: 1rem;
            text-align: center;
        }

        .header-title {
            margin: 0 0 0.8rem 0;
            font-size: 2rem;
            text-align: center;
            font-family: 'Great Vibes', cursive;
            color: var(--header-text);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .controls-container {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            max-width: 600px;
            margin: 0 auto;
            width: 90%;
        }

        .nav-buttons {
            display: flex;
            gap: 0.3rem;
            align-items: center;
            justify-content: flex-start;
        }

        .search-container {
            position: relative;
            max-width: 600px;
            margin: 1rem auto;
            width: 90%;
        }

        .search-input {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 25px;
            font-size: 1rem;
            background: var(--input-bg);
            color: var(--input-text);
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.2);
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--result-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            margin-top: 0.5rem;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 1000;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .search-result-item {
            padding: 0.8rem 1rem;
            cursor: pointer;
            border-bottom: 1px solid var(--border-color);
            transition: background-color 0.2s ease;
            color: var(--result-text);
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-item:hover {
            background-color: var(--hover-color);
        }

        .highlight {
            background-color: var(--highlight-bg);
            color: var(--highlight-text);
            padding: 0.1rem 0.3rem;
            border-radius: 3px;
        }

        .no-results {
            padding: 1rem;
            text-align: center;
            color: var(--result-text);
        }

        .filters-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.4rem;
            max-width: 600px;
            margin: 0.4rem auto;
            width: 90%;
            justify-content: space-between;
            position: relative;
            z-index: 200;
        }

        .filter-dropdown {
            position: relative;
            width: calc(50% - 0.2rem);
            min-width: 140px;
        }

        .filter-trigger {
            width: 100%;
            padding: 0.4rem 0.6rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-color);
            color: var(--text-color);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .filter-trigger:after {
            content: '‚ñº';
            font-size: 0.8rem;
            margin-left: 0.5rem;
        }

        .filter-trigger.active:after {
            content: '‚ñ≤';
        }

        .filter-options {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-top: 0.2rem;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: all 0.2s ease;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .filter-options.show {
            max-height: 200px;
            opacity: 1;
            overflow-y: auto;
        }

        .filter-option {
            padding: 0.35rem 0.5rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
            color: var(--text-color);
        }

        .filter-option:hover {
            background-color: var(--hover-color);
        }

        .filter-option.selected {
            color: var(--filter-active);
            background-color: var(--filter-bg);
        }

        .content {
            max-width: 800px;
            margin: 0 auto;
            padding: 1rem;
        }

        .book-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            padding: 1rem 0;
            padding-top: 0.5rem;
            position: relative;
            z-index: 1;
        }

        .book-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 1rem;
            box-shadow: var(--card-shadow);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            z-index: 1;
        }

        .book-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .book-card h2 {
            margin: 0 0 0.5rem 0;
            color: #4CAF50;
        }

        .book-info {
            display: none;
            margin-top: 1rem;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .book-info.visible {
            display: block;
        }

        .book-meta {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 0.5rem;
        }

        @media (max-width: 600px) {
            .header {
                padding: 0.8rem 0.5rem;
            }

            .header-title {
                font-size: 1.8rem;
                margin: 0 0 0.6rem 0;
            }

            .controls-container {
                gap: 0.3rem;
            }

            .nav-buttons {
                gap: 0.2rem;
            }

            .search-container {
                margin: 0.3rem auto;
            }

            .search-input {
                padding: 0.4rem 0.6rem;
                font-size: 0.85rem;
                border-radius: 6px;
            }

            .filters-container {
                margin: 0.3rem auto;
                gap: 0.3rem;
            }

            .filter-dropdown {
                width: 100%;
                margin: 0;
            }

            .filter-trigger {
                padding: 0.35rem 0.5rem;
                font-size: 0.8rem;
                border-radius: 6px;
            }

            .filter-options {
                max-height: 0;
                position: absolute;
                width: 100%;
                background: var(--bg-color);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }

            .filter-options.show {
                max-height: 200px;
            }

            .book-list {
                padding-top: 0.3rem;
                margin-top: 0;
            }

            .book-card {
                margin: 0.4rem 0;
                padding: 0.6rem;
                border-radius: 6px;
            }

            .book-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1 class="header-title">Historia de los Libros</h1>
        <div class="controls-container">
            <div class="nav-buttons">
                <a href="./index.html" class="home-button" title="Ir a inicio">üè†</a>
                <button id="darkModeToggle" title="Cambiar modo oscuro">üåì</button>
            </div>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Buscar por nombre, autor, tema..." class="search-input">
                <div id="searchResults" class="search-results"></div>
            </div>
            <div class="filters-container">
                <div class="filter-dropdown">
                    <button class="filter-trigger" data-type="testamento">Testamento: Todos</button>
                    <div class="filter-options">
                        <div class="filter-option selected" data-filter="todos">Todos</div>
                        <div class="filter-option" data-filter="antiguo">Antiguo Testamento</div>
                        <div class="filter-option" data-filter="nuevo">Nuevo Testamento</div>
                    </div>
                </div>
                <div class="filter-dropdown">
                    <button class="filter-trigger" data-type="categoria">Categor√≠a: Todos</button>
                    <div class="filter-options">
                        <div class="filter-option selected" data-filter="todos">Todos</div>
                        <div class="filter-option" data-filter="historico">Hist√≥ricos</div>
                        <div class="filter-option" data-filter="poetico">Po√©ticos</div>
                        <div class="filter-option" data-filter="profetico">Prof√©ticos</div>
                        <div class="filter-option" data-filter="epistola">Ep√≠stolas</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="content">
        <div class="book-list" id="bookList">
            <!-- Los libros se cargar√°n din√°micamente -->
        </div>
    </div>

    <script>
        // Control del modo oscuro
        const darkModeToggle = document.getElementById('darkModeToggle');
        const body = document.body;

        // Cargar preferencia de modo oscuro
        if (localStorage.getItem('darkMode') === 'true') {
            body.setAttribute('data-theme', 'dark');
        }

        darkModeToggle.addEventListener('click', () => {
            if (body.getAttribute('data-theme')) {
                body.removeAttribute('data-theme');
                localStorage.setItem('darkMode', 'false');
            } else {
                body.setAttribute('data-theme', 'dark');
                localStorage.setItem('darkMode', 'true');
            }
        });

        // Datos de los libros
        const booksData = {
            "G√©nesis": {
                autor: "Mois√©s",
                fecha: "1445-1405 a.C.",
                tema: "Los or√≠genes del mundo, la humanidad y el pueblo de Israel",
                descripcion: "G√©nesis, que significa 'principio' o 'origen', narra la creaci√≥n del mundo, la ca√≠da del hombre, el diluvio, y las historias de los patriarcas Abraham, Isaac, Jacob y Jos√©. Es fundamental para entender el plan de Dios para la humanidad."
            },
            "√âxodo": {
                autor: "Mois√©s",
                fecha: "1445-1405 a.C.",
                tema: "La liberaci√≥n de Israel de Egipto",
                descripcion: "√âxodo relata c√≥mo Dios liber√≥ a los israelitas de la esclavitud en Egipto bajo el liderazgo de Mois√©s, estableci√≥ su pacto con ellos en el Monte Sina√≠, y les dio instrucciones para el tabern√°culo y el sacerdocio."
            },
            "Lev√≠tico": {
                autor: "Mois√©s",
                fecha: "1445-1405 a.C.",
                tema: "Leyes para la santidad y el culto",
                descripcion: "Lev√≠tico contiene las leyes y regulaciones para los sacrificios, la pureza ritual, y las fiestas sagradas. Ense√±a c√≥mo el pueblo de Dios debe vivir en santidad y adorarle apropiadamente."
            },
            "N√∫meros": {
                autor: "Mois√©s",
                fecha: "1445-1405 a.C.",
                tema: "El viaje por el desierto",
                descripcion: "N√∫meros registra los 40 a√±os de peregrinaje de Israel por el desierto, incluyendo dos censos del pueblo, varias rebeliones y sus consecuencias, y la preparaci√≥n para entrar a la Tierra Prometida."
            },
            "Deuteronomio": {
                autor: "Mois√©s",
                fecha: "1405 a.C.",
                tema: "Repaso de la ley y renovaci√≥n del pacto",
                descripcion: "Deuteronomio contiene los √∫ltimos discursos de Mois√©s al pueblo de Israel, repasando la ley y el pacto con Dios antes de entrar a la Tierra Prometida. Es un llamado a la fidelidad y obediencia."
            },
            "Josu√©": {
                autor: "Josu√©",
                fecha: "1405-1385 a.C.",
                tema: "La conquista de la Tierra Prometida",
                descripcion: "Josu√© narra la conquista y divisi√≥n de la tierra de Cana√°n bajo el liderazgo de Josu√©, sucesor de Mois√©s. Demuestra la fidelidad de Dios en cumplir sus promesas a Israel."
            },
            "Jueces": {
                autor: "Samuel (tradicionalmente)",
                fecha: "1043 a.C.",
                tema: "Ciclos de apostas√≠a y liberaci√≥n",
                descripcion: "Jueces describe un per√≠odo turbulento en la historia de Israel, con ciclos repetidos de pecado, opresi√≥n, arrepentimiento y liberaci√≥n a trav√©s de jueces designados por Dios."
            },
            "Rut": {
                autor: "Samuel (tradicionalmente)",
                fecha: "1030-1010 a.C.",
                tema: "Redenci√≥n y lealtad",
                descripcion: "Rut es una hermosa historia de lealtad, amor y redenci√≥n. Muestra c√≥mo una mujer moabita lleg√≥ a ser parte del linaje del Rey David y, ultimadamente, de Jesucristo."
            },
            "1 Samuel": {
                autor: "Samuel, Nat√°n y Gad",
                fecha: "931 a.C.",
                tema: "Transici√≥n a la monarqu√≠a",
                descripcion: "1 Samuel registra la transici√≥n de Israel de los jueces a la monarqu√≠a, incluyendo el ministerio de Samuel, el reinado fallido de Sa√∫l y el ascenso de David."
            },
            "2 Samuel": {
                autor: "Nat√°n y Gad",
                fecha: "931 a.C.",
                tema: "El reinado de David",
                descripcion: "2 Samuel se centra en el reinado del Rey David, sus victorias, pecados y las consecuencias en su familia y reino. Muestra tanto la grandeza como las debilidades humanas."
            },
            "1 Reyes": {
                autor: "Jerem√≠as (tradicionalmente)",
                fecha: "561-538 a.C.",
                tema: "Divisi√≥n del reino",
                descripcion: "1 Reyes narra la muerte de David, el reinado de Salom√≥n, la construcci√≥n del templo, y la divisi√≥n del reino en Israel y Jud√°. Tambi√©n incluye las historias del profeta El√≠as."
            },
            "2 Reyes": {
                autor: "Jerem√≠as (tradicionalmente)",
                fecha: "561-538 a.C.",
                tema: "Ca√≠da de Israel y Jud√°",
                descripcion: "2 Reyes contin√∫a la historia de los reinos divididos hasta su ca√≠da. Israel cae ante Asiria y Jud√° ante Babilonia. Incluye el ministerio de Eliseo y las reformas de algunos reyes fieles."
            },
            "1 Cr√≥nicas": {
                autor: "Esdras (tradicionalmente)",
                fecha: "450-430 a.C.",
                tema: "Historia de David",
                descripcion: "1 Cr√≥nicas proporciona genealog√≠as desde Ad√°n y se centra en el reinado de David, especialmente en los aspectos espirituales y la organizaci√≥n del culto."
            },
            "2 Cr√≥nicas": {
                autor: "Esdras (tradicionalmente)",
                fecha: "450-430 a.C.",
                tema: "Historia del reino de Jud√°",
                descripcion: "2 Cr√≥nicas cubre la historia desde Salom√≥n hasta el exilio babil√≥nico, enfoc√°ndose en el reino de Jud√° y el templo. Destaca a los reyes fieles y las reformas espirituales."
            },
            "Esdras": {
                autor: "Esdras",
                fecha: "457-444 a.C.",
                tema: "Retorno del exilio",
                descripcion: "Esdras registra el regreso de los jud√≠os del exilio babil√≥nico, la reconstrucci√≥n del templo y la reforma espiritual bajo el liderazgo de Esdras."
            },
            "Nehem√≠as": {
                autor: "Nehem√≠as",
                fecha: "445-432 a.C.",
                tema: "Reconstrucci√≥n de Jerusal√©n",
                descripcion: "Nehem√≠as narra la reconstrucci√≥n de los muros de Jerusal√©n y la renovaci√≥n del pacto. Muestra un gran ejemplo de liderazgo piadoso y determinaci√≥n."
            },
            "Ester": {
                autor: "Desconocido",
                fecha: "483-471 a.C.",
                tema: "Providencia divina",
                descripcion: "Ester relata c√≥mo Dios us√≥ a una reina jud√≠a para salvar a su pueblo de la destrucci√≥n en el Imperio Persa, demostrando la providencia divina incluso cuando Dios no es mencionado expl√≠citamente."
            },
            "Job": {
                autor: "Desconocido",
                fecha: "Desconocida",
                tema: "Sufrimiento y fe",
                descripcion: "Job explora el tema del sufrimiento del justo, la soberan√≠a de Dios y la importancia de mantener la fe en medio de las pruebas m√°s dif√≠ciles."
            },
            "Salmos": {
                autor: "David, Asaf, hijos de Cor√© y otros",
                fecha: "1440-450 a.C.",
                tema: "Adoraci√≥n y oraci√≥n",
                descripcion: "Los Salmos son una colecci√≥n de poemas y canciones que expresan toda la gama de experiencias humanas en relaci√≥n con Dios, desde la alabanza hasta el lamento."
            },
            "Proverbios": {
                autor: "Salom√≥n principalmente",
                fecha: "970-930 a.C.",
                tema: "Sabidur√≠a pr√°ctica",
                descripcion: "Proverbios es una colecci√≥n de dichos sabios que ense√±an c√≥mo vivir sabiamente en aspectos pr√°cticos de la vida, desde las relaciones hasta los negocios."
            },
            "Eclesiast√©s": {
                autor: "Salom√≥n (tradicionalmente)",
                fecha: "940-931 a.C.",
                tema: "El sentido de la vida",
                descripcion: "Eclesiast√©s examina el significado de la vida, concluyendo que sin Dios, todo es vanidad. Anima a temer a Dios y guardar sus mandamientos como el prop√≥sito final del hombre."
            },
            "Cantares": {
                autor: "Salom√≥n",
                fecha: "970-930 a.C.",
                tema: "Amor y matrimonio",
                descripcion: "El Cantar de los Cantares celebra el amor rom√°ntico en el matrimonio, y tambi√©n se ha interpretado como una alegor√≠a del amor entre Dios y su pueblo."
            },
            "Isa√≠as": {
                autor: "Isa√≠as",
                fecha: "739-681 a.C.",
                tema: "Juicio y esperanza",
                descripcion: "Isa√≠as contiene profec√≠as de juicio y esperanza, incluyendo muchas predicciones sobre el Mes√≠as. Es conocido por su poes√≠a sublime y visiones del futuro reino de Dios."
            },
            "Jerem√≠as": {
                autor: "Jerem√≠as",
                fecha: "627-580 a.C.",
                tema: "Llamado al arrepentimiento",
                descripcion: "Jerem√≠as advierte sobre el juicio inminente de Jud√° y llama al arrepentimiento. Tambi√©n profetiza sobre el nuevo pacto y la restauraci√≥n futura."
            },
            "Lamentaciones": {
                autor: "Jerem√≠as",
                fecha: "586 a.C.",
                tema: "Lamento por Jerusal√©n",
                descripcion: "Lamentaciones expresa el dolor por la destrucci√≥n de Jerusal√©n, pero tambi√©n afirma la fidelidad de Dios y la esperanza en su misericordia."
            },
            "Ezequiel": {
                autor: "Ezequiel",
                fecha: "593-571 a.C.",
                tema: "Gloria y restauraci√≥n",
                descripcion: "Ezequiel, profetizando desde el exilio, usa visiones dram√°ticas para mostrar la gloria de Dios, advertir del juicio y prometer la restauraci√≥n futura."
            },
            "Daniel": {
                autor: "Daniel",
                fecha: "605-530 a.C.",
                tema: "Soberan√≠a divina",
                descripcion: "Daniel combina historias de fidelidad en el exilio con visiones prof√©ticas sobre el futuro de los reinos mundiales y el reino eterno de Dios."
            },
            "Oseas": {
                autor: "Oseas",
                fecha: "755-710 a.C.",
                tema: "Amor fiel de Dios",
                descripcion: "Oseas usa su propio matrimonio como met√°fora del amor fiel de Dios hacia su pueblo infiel, llam√°ndolos al arrepentimiento y la restauraci√≥n."
            },
            "Joel": {
                autor: "Joel",
                fecha: "835-796 a.C.",
                tema: "D√≠a del Se√±or",
                descripcion: "Joel usa una plaga de langostas como imagen del juicio venidero, pero tambi√©n promete la restauraci√≥n y el derramamiento del Esp√≠ritu de Dios."
            },
            "Am√≥s": {
                autor: "Am√≥s",
                fecha: "760-750 a.C.",
                tema: "Justicia social",
                descripcion: "Am√≥s denuncia la injusticia social y la religiosidad superficial, llamando al pueblo a buscar a Dios y practicar la justicia verdadera."
            },
            "Abd√≠as": {
                autor: "Abd√≠as",
                fecha: "586 a.C.",
                tema: "Juicio sobre Edom",
                descripcion: "Abd√≠as, el libro m√°s corto del Antiguo Testamento, profetiza el juicio sobre Edom por su orgullo y crueldad hacia Jud√°, y promete la restauraci√≥n del pueblo de Dios."
            },
            "Jon√°s": {
                autor: "Jon√°s",
                fecha: "780-760 a.C.",
                tema: "Misericordia universal",
                descripcion: "Jon√°s narra la historia del profeta que intent√≥ huir de su llamado a predicar a N√≠nive, demostrando que la misericordia de Dios se extiende a todas las naciones."
            },
            "Miqueas": {
                autor: "Miqueas",
                fecha: "737-696 a.C.",
                tema: "Justicia y misericordia",
                descripcion: "Miqueas alterna entre profec√≠as de juicio y esperanza, enfatizando la justicia social y prediciendo el nacimiento del Mes√≠as en Bel√©n."
            },
            "Nah√∫m": {
                autor: "Nah√∫m",
                fecha: "663-612 a.C.",
                tema: "Juicio sobre N√≠nive",
                descripcion: "Nah√∫m profetiza la destrucci√≥n de N√≠nive, capital de Asiria, mostrando que Dios juzgar√° a los opresores de su pueblo."
            },
            "Habacuc": {
                autor: "Habacuc",
                fecha: "609-605 a.C.",
                tema: "Fe en tiempos dif√≠ciles",
                descripcion: "Habacuc dialoga con Dios sobre la injusticia y aprende a confiar en √âl incluso cuando las circunstancias son dif√≠ciles."
            },
            "Sofon√≠as": {
                autor: "Sofon√≠as",
                fecha: "640-609 a.C.",
                tema: "D√≠a del Se√±or",
                descripcion: "Sofon√≠as advierte sobre el d√≠a del juicio venidero pero promete salvaci√≥n y restauraci√≥n para el remanente fiel."
            },
            "Hageo": {
                autor: "Hageo",
                fecha: "520 a.C.",
                tema: "Reconstrucci√≥n del templo",
                descripcion: "Hageo anima a los jud√≠os que han regresado del exilio a reconstruir el templo, prometiendo la bendici√≥n de Dios por su obediencia."
            },
            "Zacar√≠as": {
                autor: "Zacar√≠as",
                fecha: "520-480 a.C.",
                tema: "Esperanza mesi√°nica",
                descripcion: "Zacar√≠as usa visiones simb√≥licas para animar a los jud√≠os que han regresado del exilio y profetiza extensamente sobre el Mes√≠as venidero."
            },
            "Malaqu√≠as": {
                autor: "Malaqu√≠as",
                fecha: "430 a.C.",
                tema: "Fidelidad al pacto",
                descripcion: "Malaqu√≠as, el √∫ltimo profeta del Antiguo Testamento, confronta la infidelidad del pueblo y anuncia la venida del mensajero del Se√±or."
            },
            "Mateo": {
                autor: "Mateo",
                fecha: "50-60 d.C.",
                tema: "Jes√∫s como Rey Mes√≠as",
                descripcion: "Mateo presenta a Jes√∫s como el Mes√≠as prometido y Rey de los jud√≠os, enfatizando el cumplimiento de las profec√≠as del Antiguo Testamento y sus ense√±anzas sobre el Reino de los Cielos."
            },
            "Marcos": {
                autor: "Marcos",
                fecha: "55-65 d.C.",
                tema: "Jes√∫s como Siervo",
                descripcion: "Marcos presenta un relato din√°mico de la vida de Jes√∫s, enfoc√°ndose en sus acciones y ministerio como el Siervo sufriente de Dios."
            },
            "Lucas": {
                autor: "Lucas",
                fecha: "60-61 d.C.",
                tema: "Jes√∫s como Hijo del Hombre",
                descripcion: "Lucas, el m√©dico amado, escribe un relato hist√≥rico detallado de la vida de Jes√∫s, enfatizando su humanidad y su preocupaci√≥n por los marginados."
            },
            "Juan": {
                autor: "Juan",
                fecha: "85-95 d.C.",
                tema: "Jes√∫s como Hijo de Dios",
                descripcion: "Juan enfatiza la deidad de Cristo, registrando siete se√±ales milagrosas y profundos discursos que revelan a Jes√∫s como el Verbo eterno de Dios."
            },
            "Hechos": {
                autor: "Lucas",
                fecha: "61-62 d.C.",
                tema: "Historia de la iglesia primitiva",
                descripcion: "Hechos registra el nacimiento y crecimiento de la iglesia primitiva, desde Jerusal√©n hasta Roma, bajo el poder del Esp√≠ritu Santo."
            },
            "Romanos": {
                autor: "Pablo",
                fecha: "57 d.C.",
                tema: "Justificaci√≥n por la fe",
                descripcion: "Romanos presenta una exposici√≥n sistem√°tica del evangelio, explicando c√≥mo somos justificados por la fe y transformados por la gracia de Dios."
            },
            "1 Corintios": {
                autor: "Pablo",
                fecha: "55 d.C.",
                tema: "Problemas en la iglesia",
                descripcion: "Pablo aborda varios problemas en la iglesia de Corinto, incluyendo divisiones, inmoralidad, y el uso apropiado de los dones espirituales."
            },
            "2 Corintios": {
                autor: "Pablo",
                fecha: "56 d.C.",
                tema: "Ministerio y reconciliaci√≥n",
                descripcion: "Pablo defiende su ministerio apost√≥lico y anima a la reconciliaci√≥n, compartiendo sus luchas y la suficiencia de la gracia de Dios."
            },
            "G√°latas": {
                autor: "Pablo",
                fecha: "49 d.C.",
                tema: "Libertad en Cristo",
                descripcion: "Pablo defiende el evangelio de la gracia contra el legalismo, enfatizando la libertad que tenemos en Cristo y la vida por el Esp√≠ritu."
            },
            "Efesios": {
                autor: "Pablo",
                fecha: "60-62 d.C.",
                tema: "La iglesia en Cristo",
                descripcion: "Efesios revela el plan eterno de Dios para la iglesia, describiendo nuestra posici√≥n en Cristo y c√≥mo vivir en unidad y santidad."
            },
            "Filipenses": {
                autor: "Pablo",
                fecha: "61 d.C.",
                tema: "Gozo en Cristo",
                descripcion: "Pablo escribe desde la prisi√≥n sobre el gozo en Cristo, animando a los filipenses a seguir el ejemplo de humildad de Cristo y a regocijarse en toda circunstancia."
            },
            "Colosenses": {
                autor: "Pablo",
                fecha: "60-62 d.C.",
                tema: "Supremac√≠a de Cristo",
                descripcion: "Pablo enfatiza la supremac√≠a y suficiencia de Cristo contra las falsas ense√±anzas, mostrando c√≥mo esto afecta la vida cristiana pr√°ctica."
            },
            "1 Tesalonicenses": {
                autor: "Pablo",
                fecha: "51 d.C.",
                tema: "Esperanza en la venida de Cristo",
                descripcion: "Pablo anima a los tesalonicenses en su fe y les ense√±a sobre la segunda venida de Cristo, enfatizando la esperanza y la vida santa."
            },
            "2 Tesalonicenses": {
                autor: "Pablo",
                fecha: "51-52 d.C.",
                tema: "El d√≠a del Se√±or",
                descripcion: "Pablo clarifica malentendidos sobre la segunda venida de Cristo y anima a los creyentes a mantenerse firmes y trabajar fielmente."
            },
            "1 Timoteo": {
                autor: "Pablo",
                fecha: "62-64 d.C.",
                tema: "Orden en la iglesia",
                descripcion: "Pablo instruye a Timoteo sobre el liderazgo de la iglesia, la sana doctrina y c√≥mo combatir las falsas ense√±anzas."
            },
            "2 Timoteo": {
                autor: "Pablo",
                fecha: "66-67 d.C.",
                tema: "Fidelidad en el ministerio",
                descripcion: "La √∫ltima carta de Pablo, escrita antes de su martirio, anima a Timoteo a permanecer fiel al evangelio y a perseverar en el ministerio."
            },
            "Tito": {
                autor: "Pablo",
                fecha: "63-65 d.C.",
                tema: "Orden y buenas obras",
                descripcion: "Pablo instruye a Tito sobre la organizaci√≥n de la iglesia en Creta y la importancia de la sana doctrina y las buenas obras."
            },
            "Filem√≥n": {
                autor: "Pablo",
                fecha: "60-62 d.C.",
                tema: "Reconciliaci√≥n",
                descripcion: "Pablo intercede por On√©simo, un esclavo fugitivo convertido, mostrando c√≥mo el evangelio transforma las relaciones sociales."
            },
            "Hebreos": {
                autor: "Desconocido",
                fecha: "67-69 d.C.",
                tema: "Superioridad de Cristo",
                descripcion: "Hebreos demuestra la superioridad de Cristo sobre el sistema lev√≠tico, animando a los creyentes a perseverar en la fe."
            },
            "Santiago": {
                autor: "Santiago (hermano de Jes√∫s)",
                fecha: "44-49 d.C.",
                tema: "Fe pr√°ctica",
                descripcion: "Santiago enfatiza que la fe genuina se demuestra a trav√©s de las obras, abordando temas pr√°cticos de la vida cristiana."
            },
            "1 Pedro": {
                autor: "Pedro",
                fecha: "64-65 d.C.",
                tema: "Esperanza en el sufrimiento",
                descripcion: "Pedro anima a los creyentes que sufren persecuci√≥n, record√°ndoles su identidad en Cristo y la esperanza de la gloria futura."
            },
            "2 Pedro": {
                autor: "Pedro",
                fecha: "66-68 d.C.",
                tema: "Crecimiento y verdad",
                descripcion: "Pedro advierte contra los falsos maestros y anima al crecimiento espiritual, recordando la certeza de la venida del Se√±or."
            },
            "1 Juan": {
                autor: "Juan",
                fecha: "85-95 d.C.",
                tema: "Comuni√≥n con Dios",
                descripcion: "Juan enfatiza las marcas de la vida cristiana genuina: amor, obediencia y fe correcta en Cristo, asegurando a los creyentes de su salvaci√≥n."
            },
            "2 Juan": {
                autor: "Juan",
                fecha: "85-95 d.C.",
                tema: "Verdad y amor",
                descripcion: "Juan anima a andar en la verdad y el amor, advirtiendo contra los falsos maestros que niegan la encarnaci√≥n de Cristo."
            },
            "3 Juan": {
                autor: "Juan",
                fecha: "85-95 d.C.",
                tema: "Hospitalidad cristiana",
                descripcion: "Juan elogia a Gayo por su hospitalidad hacia los ministros itinerantes y advierte contra el ejemplo negativo de Di√≥trefes."
            },
            "Judas": {
                autor: "Judas (hermano de Jes√∫s)",
                fecha: "65-80 d.C.",
                tema: "Contender por la fe",
                descripcion: "Judas advierte contra los falsos maestros y anima a los creyentes a contender por la fe, manteni√©ndose en el amor de Dios."
            },
            "Apocalipsis": {
                autor: "Juan",
                fecha: "90-95 d.C.",
                tema: "Victoria final de Cristo",
                descripcion: "A trav√©s de visiones prof√©ticas, Juan revela el triunfo final de Cristo y su iglesia sobre el mal, culminando en la nueva creaci√≥n."
            }
        };

        // Categorizaci√≥n de libros
        const bookCategories = {
            "G√©nesis": { testamento: "antiguo", categoria: "historico" },
            "√âxodo": { testamento: "antiguo", categoria: "historico" },
            "Lev√≠tico": { testamento: "antiguo", categoria: "historico" },
            "N√∫meros": { testamento: "antiguo", categoria: "historico" },
            "Deuteronomio": { testamento: "antiguo", categoria: "historico" },
            "Josu√©": { testamento: "antiguo", categoria: "historico" },
            "Jueces": { testamento: "antiguo", categoria: "historico" },
            "Rut": { testamento: "antiguo", categoria: "historico" },
            "1 Samuel": { testamento: "antiguo", categoria: "historico" },
            "2 Samuel": { testamento: "antiguo", categoria: "historico" },
            "1 Reyes": { testamento: "antiguo", categoria: "historico" },
            "2 Reyes": { testamento: "antiguo", categoria: "historico" },
            "1 Cr√≥nicas": { testamento: "antiguo", categoria: "historico" },
            "2 Cr√≥nicas": { testamento: "antiguo", categoria: "historico" },
            "Esdras": { testamento: "antiguo", categoria: "historico" },
            "Nehem√≠as": { testamento: "antiguo", categoria: "historico" },
            "Ester": { testamento: "antiguo", categoria: "historico" },
            "Job": { testamento: "antiguo", categoria: "poetico" },
            "Salmos": { testamento: "antiguo", categoria: "poetico" },
            "Proverbios": { testamento: "antiguo", categoria: "poetico" },
            "Eclesiast√©s": { testamento: "antiguo", categoria: "poetico" },
            "Cantares": { testamento: "antiguo", categoria: "poetico" },
            "Isa√≠as": { testamento: "antiguo", categoria: "profetico" },
            "Jerem√≠as": { testamento: "antiguo", categoria: "profetico" },
            "Lamentaciones": { testamento: "antiguo", categoria: "poetico" },
            "Ezequiel": { testamento: "antiguo", categoria: "profetico" },
            "Daniel": { testamento: "antiguo", categoria: "profetico" },
            "Oseas": { testamento: "antiguo", categoria: "profetico" },
            "Joel": { testamento: "antiguo", categoria: "profetico" },
            "Am√≥s": { testamento: "antiguo", categoria: "profetico" },
            "Abd√≠as": { testamento: "antiguo", categoria: "profetico" },
            "Jon√°s": { testamento: "antiguo", categoria: "profetico" },
            "Miqueas": { testamento: "antiguo", categoria: "profetico" },
            "Nah√∫m": { testamento: "antiguo", categoria: "profetico" },
            "Habacuc": { testamento: "antiguo", categoria: "profetico" },
            "Sofon√≠as": { testamento: "antiguo", categoria: "profetico" },
            "Hageo": { testamento: "antiguo", categoria: "profetico" },
            "Zacar√≠as": { testamento: "antiguo", categoria: "profetico" },
            "Malaqu√≠as": { testamento: "antiguo", categoria: "profetico" },
            "Mateo": { testamento: "nuevo", categoria: "historico" },
            "Marcos": { testamento: "nuevo", categoria: "historico" },
            "Lucas": { testamento: "nuevo", categoria: "historico" },
            "Juan": { testamento: "nuevo", categoria: "historico" },
            "Hechos": { testamento: "nuevo", categoria: "historico" },
            "Romanos": { testamento: "nuevo", categoria: "epistola" },
            "1 Corintios": { testamento: "nuevo", categoria: "epistola" },
            "2 Corintios": { testamento: "nuevo", categoria: "epistola" },
            "G√°latas": { testamento: "nuevo", categoria: "epistola" },
            "Efesios": { testamento: "nuevo", categoria: "epistola" },
            "Filipenses": { testamento: "nuevo", categoria: "epistola" },
            "Colosenses": { testamento: "nuevo", categoria: "epistola" },
            "1 Tesalonicenses": { testamento: "nuevo", categoria: "epistola" },
            "2 Tesalonicenses": { testamento: "nuevo", categoria: "epistola" },
            "1 Timoteo": { testamento: "nuevo", categoria: "epistola" },
            "2 Timoteo": { testamento: "nuevo", categoria: "epistola" },
            "Tito": { testamento: "nuevo", categoria: "epistola" },
            "Filem√≥n": { testamento: "nuevo", categoria: "epistola" },
            "Hebreos": { testamento: "nuevo", categoria: "epistola" },
            "Santiago": { testamento: "nuevo", categoria: "epistola" },
            "1 Pedro": { testamento: "nuevo", categoria: "epistola" },
            "2 Pedro": { testamento: "nuevo", categoria: "epistola" },
            "1 Juan": { testamento: "nuevo", categoria: "epistola" },
            "2 Juan": { testamento: "nuevo", categoria: "epistola" },
            "3 Juan": { testamento: "nuevo", categoria: "epistola" },
            "Judas": { testamento: "nuevo", categoria: "epistola" },
            "Apocalipsis": { testamento: "nuevo", categoria: "profetico" }
        };

        let activeFilters = {
            testamento: "todos",
            categoria: "todos"
        };

        // Crear tarjetas de libros
        const bookList = document.getElementById('bookList');

        Object.entries(booksData).forEach(([bookName, data]) => {
            const card = document.createElement('div');
            card.className = 'book-card';
            card.setAttribute('data-book', bookName);
            card.innerHTML = `
                <h2>${bookName}</h2>
                <div class="book-meta">
                    <strong>Autor:</strong> ${data.autor}<br>
                    <strong>Fecha:</strong> ${data.fecha}<br>
                    <strong>Tema:</strong> ${data.tema}
                </div>
                <div class="book-info">
                    ${data.descripcion}
                </div>
            `;

            card.addEventListener('click', () => {
                const info = card.querySelector('.book-info');
                info.classList.toggle('visible');
            });

            bookList.appendChild(card);
        });

        // Funci√≥n para aplicar filtros
        function applyFilters() {
            const cards = document.querySelectorAll('.book-card');
            cards.forEach(card => {
                const bookName = card.getAttribute('data-book');
                const bookInfo = bookCategories[bookName];
                
                const testamentoMatch = activeFilters.testamento === "todos" || 
                                      bookInfo.testamento === activeFilters.testamento;
                const categoriaMatch = activeFilters.categoria === "todos" || 
                                     bookInfo.categoria === activeFilters.categoria;

                if (testamentoMatch && categoriaMatch) {
                    card.style.display = '';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Event listeners para filtros
        document.querySelectorAll('.filter-trigger').forEach(trigger => {
            trigger.addEventListener('click', (e) => {
                const dropdown = e.target.closest('.filter-dropdown');
                const options = dropdown.querySelector('.filter-options');
                const allOptions = document.querySelectorAll('.filter-options');
                
                // Cerrar otros dropdowns
                allOptions.forEach(opt => {
                    if (opt !== options) {
                        opt.classList.remove('show');
                        opt.previousElementSibling.classList.remove('active');
                    }
                });
                
                // Toggle current dropdown
                options.classList.toggle('show');
                trigger.classList.toggle('active');
            });
        });

        // Cerrar dropdowns al hacer clic fuera
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.filter-dropdown')) {
                document.querySelectorAll('.filter-options').forEach(options => {
                    options.classList.remove('show');
                    options.previousElementSibling.classList.remove('active');
                });
            }
        });

        // Event listeners para opciones de filtro
        document.querySelectorAll('.filter-option').forEach(option => {
            option.addEventListener('click', (e) => {
                const dropdown = e.target.closest('.filter-dropdown');
                const trigger = dropdown.querySelector('.filter-trigger');
                const filterType = trigger.getAttribute('data-type');
                const filterValue = e.target.getAttribute('data-filter');
                const filterText = e.target.textContent;
                
                // Actualizar bot√≥n
                trigger.textContent = `${filterType.charAt(0).toUpperCase() + filterType.slice(1)}: ${filterText}`;
                
                // Actualizar selecci√≥n visual
                dropdown.querySelectorAll('.filter-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                e.target.classList.add('selected');
                
                // Actualizar filtros activos
                activeFilters[filterType] = filterValue;
                
                // Cerrar dropdown
                dropdown.querySelector('.filter-options').classList.remove('show');
                trigger.classList.remove('active');
                
                // Aplicar filtros
                applyFilters();
            });
        });

        // Funci√≥n de b√∫squeda
        function searchBooks(query) {
            query = query.toLowerCase();
            const results = [];
            
            for (const [bookName, book] of Object.entries(booksData)) {
                const bookInfo = bookCategories[bookName];
                const testamentoMatch = activeFilters.testamento === "todos" || 
                                      bookInfo.testamento === activeFilters.testamento;
                const categoriaMatch = activeFilters.categoria === "todos" || 
                                     bookInfo.categoria === activeFilters.categoria;

                if (!testamentoMatch || !categoriaMatch) continue;

                const searchText = `${bookName} ${book.autor} ${book.tema} ${book.descripcion}`.toLowerCase();
                
                if (searchText.includes(query)) {
                    results.push({
                        nombre: bookName,
                        ...book,
                        relevancia: calculateRelevance(query, searchText)
                    });
                }
            }

            return results.sort((a, b) => b.relevancia - a.relevancia);
        }

        function calculateRelevance(query, text) {
            let score = 0;
            if (text.includes(query)) score += 10;
            
            const words = query.split(' ');
            words.forEach(word => {
                if (text.includes(word)) score += 5;
            });
            
            return score;
        }

        function highlightText(text, query) {
            if (!query) return text;
            const regex = new RegExp(`(${query})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }

        function displayResults(results, query) {
            const resultsContainer = document.getElementById('searchResults');
            resultsContainer.style.display = results.length ? 'block' : 'none';

            if (results.length === 0) {
                resultsContainer.innerHTML = '<div class="no-results">No se encontraron resultados</div>';
                return;
            }

            resultsContainer.innerHTML = results.map(book => `
                <div class="search-result-item" onclick="scrollToBook('${book.nombre}')">
                    <strong>${highlightText(book.nombre, query)}</strong><br>
                    <small>
                        Autor: ${highlightText(book.autor, query)} | 
                        Tema: ${highlightText(book.tema, query)}
                    </small>
                </div>
            `).join('');
        }

        function scrollToBook(bookName) {
            const bookElement = document.querySelector(`[data-book="${bookName}"]`);
            if (bookElement) {
                bookElement.scrollIntoView({ behavior: 'smooth' });
                bookElement.click(); // Expande la tarjeta
                document.getElementById('searchResults').style.display = 'none';
            }
        }

        // Event listeners
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const query = e.target.value.trim();
            if (query.length >= 2) {
                const results = searchBooks(query);
                displayResults(results, query);
            } else {
                document.getElementById('searchResults').style.display = 'none';
            }
        });

        // Cerrar resultados al hacer clic fuera
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-container')) {
                document.getElementById('searchResults').style.display = 'none';
            }
        });
    </script>
</body>
</html>
